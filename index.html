<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O Retiro - Inscri√ß√µes 2025</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            min-height: 100vh;
            color: white;
            padding: 20px;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            background: #000;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
            overflow: hidden;
            border: 1px solid #333;
        }

        .header {
            background: #000;
            padding: 30px;
            text-align: center;
            border-bottom: 2px solid #333;
        }

        .logo {
            width: 150px;
            height: auto;
            margin-bottom: 20px;
            filter: brightness(1.1);
        }

        .logo-container {
            margin-bottom: 20px;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            color: #fff;
            font-weight: 700;
        }

        .header .date {
            font-size: 1.3em;
            color: #ff6b35;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .header .subtitle {
            font-size: 1.1em;
            color: #ccc;
        }

        .form-container {
            padding: 40px;
            background: #111;
        }

        .counter {
            text-align: center;
            font-size: 1.4em;
            margin-bottom: 30px;
            padding: 15px;
            background: #222;
            border-radius: 10px;
            border: 1px solid #333;
        }

        .counter-number {
            color: #ff6b35;
            font-weight: bold;
            font-size: 1.5em;
        }

        .section-title {
            color: #ff6b35;
            font-size: 1.3em;
            font-weight: bold;
            margin: 30px 0 20px 0;
            padding-bottom: 10px;
            border-bottom: 2px solid #333;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .conditional-field {
            margin-top: 15px;
            padding-left: 20px;
            border-left: 3px solid #ff6b35;
            display: none;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #fff;
            font-size: 1.1em;
        }

        .required {
            color: #ff6b35;
        }

        input, select, textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #333;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: #222;
            color: #fff;
            text-transform: uppercase;
        }

        input[type="number"] {
            text-transform: none;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #ff6b35;
            background: #333;
            box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1);
        }

        input::placeholder {
            color: #999;
        }

        textarea {
            resize: vertical;
            min-height: 80px;
        }

        select {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=US-ASCII,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 5'><path fill='%23999' d='M2 0L0 2h4zm0 5L0 3h4z'/></svg>");
            background-repeat: no-repeat;
            background-position: right 15px center;
            background-size: 12px;
            padding-right: 45px;
        }

        select option {
            background: #222;
            color: #fff;
        }

        .submit-btn {
            background: linear-gradient(45deg, #ff6b35 0%, #ff8a5b 100%);
            color: white;
            border: none;
            padding: 18px 40px;
            border-radius: 50px;
            font-size: 1.2em;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(255, 107, 53, 0.3);
        }

        .submit-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .success-message {
            display: none;
            background: #1a472a;
            color: #4ade80;
            border: 1px solid #16a34a;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
        }

        .info-box {
            background: #1a1a2e;
            border-left: 4px solid #ff6b35;
            padding: 15px;
            margin-bottom: 25px;
            border-radius: 4px;
            color: #ccc;
        }

        .color-legend {
            background: #222;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid #333;
        }

        .color-legend h4 {
            color: #ff6b35;
            margin-bottom: 10px;
        }

        .color-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .color-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.9em;
        }

        .color-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            border: 1px solid #555;
        }

        .color-dot.branca { background: #fff; }
        .color-dot.azul { background: #3b82f6; }
        .color-dot.amarela { background: #eab308; }
        .color-dot.vermelha { background: #ef4444; }
        .color-dot.verde { background: #22c55e; }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
            
            .form-container {
                padding: 20px;
            }

            .logo {
                width: 120px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo-container">
                <svg width="150" height="150" viewBox="0 0 200 200" class="logo">
                    <rect width="200" height="200" fill="#000" rx="20"/>
                    <circle cx="100" cy="80" r="25" fill="none" stroke="#fff" stroke-width="3"/>
                    <circle cx="100" cy="80" r="8" fill="#fff"/>
                    <text x="100" y="130" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#fff" text-anchor="middle">ALVO</text>
                    <text x="100" y="150" font-family="Arial, sans-serif" font-size="12" font-weight="normal" fill="#fff" text-anchor="middle" letter-spacing="2px">CHURCH</text>
                </svg>
            </div>
            
            <div class="date">
                <div id="date-display">SELECIONE SEU G√äNERO</div>
            </div>
            <h1>O RETIRO</h1>
            <div class="subtitle">VIS√ÉO ‚Ä¢ MISS√ÉO ‚Ä¢ PRESS√ÉO</div>
        </div>

        <div class="form-container">
            <div class="counter">
                üìä <span class="counter-number" id="inscricoes-count">15</span> pessoas j√° se inscreveram
            </div>

            <div class="info-box">
                <strong>üéØ Inscri√ß√£o R√°pida:</strong> Preencha os dados essenciais para sua pr√© inscri√ß√£o. O pagamento dever√° ser realizado presencialmente.
            </div>

            <div class="info-box">
                <strong>üí∞ Informa√ß√µes de Pagamento:</strong><br>
                ‚Ä¢ <strong>Valor Total:</strong> R$ 520,00<br>
                ‚Ä¢ <strong>Entrada para Pr√©-Inscri√ß√£o:</strong> R$ 200,00<br>
                ‚Ä¢ <strong>Saldo Restante:</strong> R$ 320,00 (at√© o dia do retiro)
            </div>

            <div class="success-message" id="success-message">
                üôå <strong>Pr√©-inscri√ß√£o realizada com sucesso!</strong><br>
                <div id="payment-instructions" style="margin-top: 10px; padding: 10px; background: #333; border-radius: 5px;">
                    <strong>üìã Pr√≥ximos Passos:</strong><br>
                    <span id="next-steps"></span>
                </div>
            </div>

            <form id="inscricao-form">
                <!-- IDENTIFICA√á√ÉO E CONTATO -->
                <div class="section-title">‚úÖ Identifica√ß√£o e Contato</div>
                
                <div class="form-group">
                    <label for="nome">Nome Completo <span class="required">*</span></label>
                    <input type="text" id="nome" name="nome" required placeholder="DIGITE SEU NOME COMPLETO">
                </div>

                <div class="form-group">
                    <label for="genero">G√™nero <span class="required">*</span></label>
                    <select id="genero" name="genero" required>
                        <option value="">Selecione seu g√™nero</option>
                        <option value="homem">üë® Homem</option>
                        <option value="mulher">üë© Mulher</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="idade">Idade <span class="required">*</span></label>
                    <input type="number" id="idade" name="idade" required placeholder="DIGITE SUA IDADE" min="12" max="100">
                </div>

                <div class="form-group">
                    <label for="whatsapp">WhatsApp <span class="required">*</span></label>
                    <input type="tel" id="whatsapp" name="whatsapp" placeholder="(11) 99999-9999" required>
                </div>

                <!-- INFORMA√á√ïES DE SA√öDE E ACESSIBILIDADE -->
                <div class="section-title">üè• Informa√ß√µes de Sa√∫de e Acessibilidade</div>

                <div class="form-group">
                    <label for="comorbidade">Possui alguma comorbidade? <span class="required">*</span></label>
                    <select id="comorbidade" name="comorbidade" required>
                        <option value="">Selecione uma op√ß√£o</option>
                        <option value="nao">‚ùå N√£o</option>
                        <option value="sim">‚úÖ Sim</option>
                    </select>
                    <div id="comorbidade-detalhes" class="conditional-field">
                        <label for="comorbidade-qual">Qual comorbidade?</label>
                        <textarea id="comorbidade-qual" name="comorbidade-qual" placeholder="DESCREVA A COMORBIDADE..."></textarea>
                    </div>
                </div>

                <div class="form-group">
                    <label for="gravida">Est√° gr√°vida? <span class="required">*</span></label>
                    <select id="gravida" name="gravida" required>
                        <option value="">Selecione uma op√ß√£o</option>
                        <option value="nao">‚ùå N√£o</option>
                        <option value="sim">‚úÖ Sim</option>
                    </select>
                    <div id="gravida-detalhes" class="conditional-field">
                        <label for="gravida-observacao">Tem alguma observa√ß√£o sobre a gravidez?</label>
                        <textarea id="gravida-observacao" name="gravida-observacao" placeholder="OBSERVA√á√ïES SOBRE A GRAVIDEZ..."></textarea>
                    </div>
                </div>

                <div class="form-group">
                    <label for="medicacao">Usa medica√ß√£o cont√≠nua? <span class="required">*</span></label>
                    <select id="medicacao" name="medicacao" required>
                        <option value="">Selecione uma op√ß√£o</option>
                        <option value="nao">‚ùå N√£o</option>
                        <option value="sim">‚úÖ Sim</option>
                    </select>
                    <div id="medicacao-detalhes" class="conditional-field">
                        <label for="medicacao-qual">Qual medica√ß√£o?</label>
                        <textarea id="medicacao-qual" name="medicacao-qual" placeholder="DESCREVA AS MEDICA√á√ïES..."></textarea>
                    </div>
                </div>

                <div class="form-group">
                    <label for="restricoes">Tem restri√ß√µes alimentares? <span class="required">*</span></label>
                    <select id="restricoes" name="restricoes" required>
                        <option value="">Selecione uma op√ß√£o</option>
                        <option value="nao">‚ùå N√£o</option>
                        <option value="sim">‚úÖ Sim</option>
                    </select>
                    <div id="restricoes-detalhes" class="conditional-field">
                        <label for="restricoes-quais">Quais restri√ß√µes alimentares?</label>
                        <textarea id="restricoes-quais" name="restricoes-quais" placeholder="DESCREVA AS RESTRI√á√ïES ALIMENTARES..."></textarea>
                    </div>
                </div>

                <div class="form-group">
                    <label for="alergias">Tem alergias? <span class="required">*</span></label>
                    <select id="alergias" name="alergias" required>
                        <option value="">Selecione uma op√ß√£o</option>
                        <option value="nao">‚ùå N√£o</option>
                        <option value="sim">‚úÖ Sim</option>
                    </select>
                    <div id="alergias-detalhes" class="conditional-field">
                        <label for="alergias-quais">Quais alergias?</label>
                        <textarea id="alergias-quais" name="alergias-quais" placeholder="DESCREVA AS ALERGIAS..."></textarea>
                    </div>
                </div>

                <div class="form-group">
                    <label for="locomocao">Tem alguma limita√ß√£o de locomo√ß√£o? <span class="required">*</span></label>
                    <select id="locomocao" name="locomocao" required>
                        <option value="">Selecione uma op√ß√£o</option>
                        <option value="nao">‚ùå N√£o</option>
                        <option value="sim">‚úÖ Sim</option>
                    </select>
                    <div id="locomocao-detalhes" class="conditional-field">
                        <label for="locomocao-qual">Qual limita√ß√£o de locomo√ß√£o?</label>
                        <textarea id="locomocao-qual" name="locomocao-qual" placeholder="DESCREVA A LIMITA√á√ÉO DE LOCOMO√á√ÉO..."></textarea>
                    </div>
                </div>

                <!-- INFORMA√á√ïES DE V√çNCULO COM ALVO -->
                <div class="section-title">(o) Informa√ß√µes de v√≠nculos</div>

                <div class="form-group">
                    <div class="color-legend">
                        <h4>Refer√™ncia das Cores das Redes:</h4>
                        <div class="color-list">
                            <div class="color-item">
                                <div class="color-dot branca"></div>
                                <span>Branca</span>
                            </div>
                            <div class="color-item">
                                <div class="color-dot azul"></div>
                                <span>Azul</span>
                            </div>
                            <div class="color-item">
                                <div class="color-dot amarela"></div>
                                <span>Amarela</span>
                            </div>
                            <div class="color-item">
                                <div class="color-dot vermelha"></div>
                                <span>Vermelha</span>
                            </div>
                            <div class="color-item">
                                <div class="color-dot verde"></div>
                                <span>Verde</span>
                            </div>
                        </div>
                    </div>
                    
                    <label for="cor-rede">Cor da Rede <span class="required">*</span></label>
                    <select id="cor-rede" name="cor-rede" required>
                        <option value="">Selecione a cor da sua rede</option>
                        <option value="branca">ü§ç Rede Branca</option>
                        <option value="azul">üíô Rede Azul</option>
                        <option value="amarela">üíõ Rede Amarela</option>
                        <option value="vermelha">‚ù§Ô∏è Rede Vermelha</option>
                        <option value="verde">üíö Rede Verde</option>
                    </select>
                </div>

                <!-- INFORMA√á√ïES DE PAGAMENTO -->
                <div class="section-title">üí∞ Informa√ß√µes de Pagamento</div>

                <div class="form-group">
                    <label for="pagamento">Status do Pagamento da Entrada <span class="required">*</span></label>
                    <select id="pagamento" name="pagamento" required>
                        <option value="">Selecione o status do pagamento</option>
                        <option value="entrada-pre">üí∞ Entrada Pr√© Inscri√ß√£o (R$ 200,00 +)</option>
                        <option value="pagar-diferenca">üìÖ Pagar diferen√ßa</option>
                    </select>
                </div>

                <div class="form-group" id="valor-group" style="display: none;">
                    <label for="valor-pago">Valor que ser√° pago <span class="required">*</span></label>
                    <div style="position: relative;">
                        <input type="text" id="valor-pago" name="valor-pago" placeholder="200,00" style="padding-left: 40px;">
                        <span style="position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: #ccc; font-weight: bold;">R$</span>
                    </div>
                    <div id="valor-warning" style="display: none; background: #660000; border: 1px solid #cc0000; color: #ff6666; padding: 10px; border-radius: 5px; margin-top: 10px;">
                        ‚ö†Ô∏è <strong>Aten√ß√£o:</strong> O valor m√≠nimo da pr√©-inscri√ß√£o √© R$ 200,00
                    </div>
                </div>

                <div class="form-group">
                    <label for="forma-pagamento">Como prefere pagar a entrada? <span class="required">*</span></label>
                    <select id="forma-pagamento" name="forma-pagamento" required>
                        <option value="">Selecione a forma de pagamento</option>
                        <option value="pix">üè¶ PIX</option>
                        <option value="dinheiro">üíµ Dinheiro</option>
                        <option value="cartao">üí≥ Cart√£o</option>
                        <option value="transferencia">üèß Transfer√™ncia</option>
                    </select>
                </div>

                <button type="submit" class="submit-btn" id="submit-btn">
                    Confirmar Inscri√ß√£o
                </button>
            </form>
        </div>
    </div>

    <script>
        let inscricoes = [];

        inscricoes = Array(0).fill(null).map((_, i) => ({
            id: i + 1,
            nome: `Participante ${i + 1}`,
            timestamp: new Date()
        }));

        function atualizarContador() {
            const totalInscricoes = inscricoes.length;
            const inscricoesCount = document.getElementById('inscricoes-count');
            inscricoesCount.textContent = totalInscricoes;
        }

        function formatarWhatsApp(input) {
            let value = input.value.replace(/\D/g, '');
            if (value.length >= 11) {
                value = value.replace(/(\d{2})(\d{5})(\d{4})/, '($1) $2-$3');
            } else if (value.length >= 7) {
                value = value.replace(/(\d{2})(\d{4})(\d{0,4})/, '($1) $2-$3');
            } else if (value.length >= 3) {
                value = value.replace(/(\d{2})(\d{0,5})/, '($1) $2');
            }
            input.value = value;
        }

        function formatarValor(input) {
            let value = input.value.replace(/\D/g, '');
            if (value.length >= 3) {
                value = value.replace(/(\d+)(\d{2})$/, '$1,$2');
            }
            input.value = value;
        }

        function validarValorMinimo() {
            const pagamento = document.getElementById('pagamento').value;
            const valorInput = document.getElementById('valor-pago');
            const warning = document.getElementById('valor-warning');
            
            if (pagamento === 'entrada-pre' && valorInput.value) {
                const valor = parseFloat(valorInput.value.replace(',', '.'));
                if (valor < 200) {
                    warning.style.display = 'block';
                } else {
                    warning.style.display = 'none';
                }
            } else {
                warning.style.display = 'none';
            }
        }

        // Configurar campos condicionais
        function setupConditionalField(selectId, detailsId) {
            const select = document.getElementById(selectId);
            const details = document.getElementById(detailsId);
            const textarea = details.querySelector('textarea');
            
            select.addEventListener('change', function() {
                if (this.value === 'sim') {
                    details.style.display = 'block';
                    textarea.required = true;
                } else {
                    details.style.display = 'none';
                    textarea.required = false;
                    textarea.value = '';
                }
            });
        }

        // Atualizar data baseada no g√™nero
        function atualizarDataRetiro() {
            const genero = document.getElementById('genero').value;
            const dateDisplay = document.getElementById('date-display');
            
            if (genero === 'homem') {
                dateDisplay.textContent = 'HOMENS: 8, 9 E 10 DE AGOSTO';
                dateDisplay.style.color = '#4ade80';
            } else if (genero === 'mulher') {
                dateDisplay.textContent = 'MULHERES: 15, 16 E 17 DE AGOSTO';
                dateDisplay.style.color = '#ff6b9d';
            } else {
                dateDisplay.textContent = 'SELECIONE SEU G√äNERO';
                dateDisplay.style.color = '#ff6b35';
            }
        }

        // Converter automaticamente para MAI√öSCULA
        function converterParaMaiuscula(input) {
            if (input.type !== 'number' && input.type !== 'tel') {
                input.value = input.value.toUpperCase();
            }
        }

        // Aplicar convers√£o para mai√∫scula em todos os campos de texto
        document.querySelectorAll('input[type="text"], textarea').forEach(input => {
            input.addEventListener('input', function() {
                converterParaMaiuscula(this);
            });
        });

        // Configurar atualiza√ß√£o de data baseada no g√™nero
        document.getElementById('genero').addEventListener('change', atualizarDataRetiro);

        // Configurar todos os campos condicionais
        setupConditionalField('comorbidade', 'comorbidade-detalhes');
        setupConditionalField('gravida', 'gravida-detalhes');
        setupConditionalField('medicacao', 'medicacao-detalhes');
        setupConditionalField('restricoes', 'restricoes-detalhes');
        setupConditionalField('alergias', 'alergias-detalhes');
        setupConditionalField('locomocao', 'locomocao-detalhes');

        document.getElementById('pagamento').addEventListener('change', function() {
            const valorGroup = document.getElementById('valor-group');
            const valorInput = document.getElementById('valor-pago');
            
            if (this.value) {
                valorGroup.style.display = 'block';
                valorInput.required = true;
                
                if (this.value === 'entrada-pre') {
                    valorInput.placeholder = '200,00';
                } else if (this.value === 'pagar-diferenca') {
                    valorInput.placeholder = '320,00';
                }
            } else {
                valorGroup.style.display = 'none';
                valorInput.required = false;
            }
            
            validarValorMinimo();
        });

        document.getElementById('valor-pago').addEventListener('input', function() {
            formatarValor(this);
            validarValorMinimo();
        });

        document.getElementById('whatsapp').addEventListener('input', function() {
            formatarWhatsApp(this);
        });

        document.getElementById('inscricao-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const dados = Object.fromEntries(formData);
            
            // Valida√ß√µes b√°sicas
            const camposObrigatorios = ['nome', 'genero', 'idade', 'whatsapp', 'comorbidade', 'gravida', 'medicacao', 'restricoes', 'alergias', 'locomocao', 'cor-rede', 'pagamento', 'forma-pagamento'];
            
            for (let campo of camposObrigatorios) {
                if (!dados[campo]) {
                    alert('Por favor, preencha todos os campos obrigat√≥rios.');
                    return;
                }
            }

            if (dados.pagamento && !dados['valor-pago']) {
                alert('Por favor, informe o valor que ser√° pago.');
                return;
            }

            if (dados.pagamento === 'entrada-pre') {
                const valor = parseFloat(dados['valor-pago'].replace(',', '.'));
                if (valor < 200) {
                    alert('O valor m√≠nimo da pr√©-inscri√ß√£o √© R$ 200,00');
                    return;
                }
            }

            const submitBtn = document.getElementById('submit-btn');
            const originalText = submitBtn.textContent;
            
            submitBtn.textContent = 'Enviando...';
            submitBtn.disabled = true;

            setTimeout(() => {
                inscricoes.push({
                    id: Date.now(),
                    ...dados,
                    timestamp: new Date()
                });

                document.getElementById('success-message').style.display = 'block';
                
                const nextSteps = document.getElementById('next-steps');
                const valorPago = dados['valor-pago'] ? parseFloat(dados['valor-pago'].replace(',', '.')) : 0;
                const saldoRestante = 520 - valorPago;
                
                if (dados.pagamento === 'entrada-pre') {
                    nextSteps.innerHTML = `üí∞ Voc√™ pagar√° R$ ${dados['valor-pago']} como entrada. Saldo restante: R$ ${saldoRestante.toFixed(2).replace('.', ',')}. Entraremos em contato via WhatsApp com os dados para pagamento!`;
                } else if (dados.pagamento === 'pagar-diferenca') {
                    nextSteps.innerHTML = `üìÖ Voc√™ pagar√° R$ ${dados['valor-pago']} como diferen√ßa. Saldo restante: R$ ${saldoRestante.toFixed(2).replace('.', ',')}. Entraremos em contato via WhatsApp!`;
                }
                
                this.reset();
                
                // Esconder todos os campos condicionais
                document.querySelectorAll('.conditional-field').forEach(field => {
                    field.style.display = 'none';
                });
                
                atualizarContador();
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
                document.querySelector('.container').scrollIntoView({ behavior: 'smooth' });

                // INTEGRA√á√ÉO COM GOOGLE SHEETS
                const dadosSheet = {
                    nome: dados.nome,
                    genero: dados.genero,
                    idade: dados.idade,
                    whatsapp: dados.whatsapp,
                    comorbidade: dados.comorbidade,
                    comorbidadeQual: dados['comorbidade-qual'] || '',
                    gravida: dados.gravida,
                    gravidaObservacao: dados['gravida-observacao'] || '',
                    medicacao: dados.medicacao,
                    medicacaoQual: dados['medicacao-qual'] || '',
                    restricoes: dados.restricoes,
                    restricoesQuais: dados['restricoes-quais'] || '',
                    alergias: dados.alergias,
                    alergiasQuais: dados['alergias-quais'] || '',
                    locomocao: dados.locomocao,
                    locomocaoQual: dados['locomocao-qual'] || '',
                    corRede: dados['cor-rede'],
                    statusPagamento: dados.pagamento,
                    valorPago: dados['valor-pago'] || '',
                    formaPagamento: dados['forma-pagamento']
                };

                const params = new URLSearchParams(dadosSheet);
                const script = document.createElement('script');
                script.src = `https://script.google.com/macros/s/AKfycbxaqiZOGNSOxrK7urm-pPoEfbyriFCT125U3abqQ120Nb3CFDJ1bXf8eB1irdQuWn7T/exec`;
                document.head.appendChild(script);

                window.handleSheetResponse = function(data) {
                    console.log('‚úÖ Enviado para planilha Google Sheets:', data);
                    if (script && script.parentNode) {
                        document.head.removeChild(script);
                    }
                };

                console.log('üî• Nova Inscri√ß√£o - O Retiro 2025:', {
                    nome: dados.nome,
                    genero: dados.genero,
                    idade: dados.idade,
                    whatsapp: dados.whatsapp,
                    comorbidade: dados.comorbidade,
                    gravida: dados.gravida,
                    medicacao: dados.medicacao,
                    restricoes: dados.restricoes,
                    alergias: dados.alergias,
                    locomocao: dados.locomocao,
                    corRede: dados['cor-rede'],
                    statusPagamento: dados.pagamento,
                    valorPago: dados['valor-pago'] ? `R$ ${dados['valor-pago']}` : 'N√£o informado',
                    formaPagamento: dados['forma-pagamento'],
                    timestamp: new Date().toLocaleString('pt-BR'),
                    valorTotal: 'R$ 520,00',
                    saldoRestante: dados['valor-pago'] ? `R$ ${(520 - parseFloat(dados['valor-pago'].replace(',', '.'))).toFixed(2).replace('.', ',')}` : 'R$ 520,00'
                });

            }, 1500);
        });

        atualizarContador();

        setInterval(() => {
            if (Math.random() < 0.08) {
                inscricoes.push({
                    id: Date.now(),
                    nome: `Novo Inscrito ${inscricoes.length + 1}`,
                    timestamp: new Date()
                });
                atualizarContador();
            }
        }, 15000);
    </script>
</body>
</html>
